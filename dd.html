<!DOCTYPE html>
<html>
<head>
  <title>List Firestore Collections</title>
  <script type="module">
    // Import Firebase v9 modular SDK
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getFirestore, listCollections } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyCOUU5KgH2-1mr-dfBD2eTKH4hjlJ-Ew2g",
      authDomain: "bwi-dash.firebaseapp.com",
      projectId: "bwi-dash",
      databaseURL: "https://bwi-dash.firebaseio.com",
      storageBucket: "bwi-dash.appspot.com",
      messagingSenderId: "234426135641",
      appId: "1:234426135641:web:a984688e9e60e416752d48",
      measurementId: "G-SDHCLRMLBS"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // List collections
    async function listAllCollections() {
      const collections = await listCollections(db);
      const container = document.getElementById("collections");

      collections.forEach((col) => {
        const div = document.createElement("div");
        div.textContent = col.id;
        container.appendChild(div);
      });
    }

    // Run on load
    window.onload = listAllCollections;
  </script>
</head>
<body>
  <h2>Firestore Collections:</h2>
  <div id="collections"></div>
</body>
</html>
